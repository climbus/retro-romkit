<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# tosec

```go
import "github.com/climbus/retro-romkit/pkg/tosec"
```

Package tosec provides functionality for analyzing and displaying file trees and statistics.

## Index

- [Variables](<#variables>)
- [func GetPlatformNames\(\) \[\]string](<#GetPlatformNames>)
- [type CopyOptions](<#CopyOptions>)
- [type File](<#File>)
  - [func ParseFileName\(fileName string\) \(\*File, error\)](<#ParseFileName>)
- [type Folder](<#Folder>)
  - [func Create\(path, platformName string\) \*Folder](<#Create>)
  - [func \(tosecFolder \*Folder\) BuildTree\(\_ CopyOptions\) \[\]tree.Entry](<#Folder.BuildTree>)
  - [func \(tosecFolder \*Folder\) FormatTree\(\) \<\-chan string](<#Folder.FormatTree>)
  - [func \(tosecFolder \*Folder\) GetFileTree\(\) \(\<\-chan tree.Entry, \<\-chan error\)](<#Folder.GetFileTree>)
  - [func \(tosecFolder \*Folder\) GetFiles\(\) \(\[\]File, error\)](<#Folder.GetFiles>)
  - [func \(tosecFolder \*Folder\) GetStats\(\) \(Stats, error\)](<#Folder.GetStats>)
- [type ParseError](<#ParseError>)
- [type Platform](<#Platform>)
  - [func GetPlatform\(name string\) \(Platform, bool\)](<#GetPlatform>)
- [type Stats](<#Stats>)


## Variables

<a name="Platforms"></a>

```go
var Platforms = map[string]Platform{
    "nes": {
        Name:        "nes",
        Description: "Nintendo Entertainment System",
        FileTypes:   []string{".nes", ".fds"},
    },
    "snes": {
        Name:        "snes",
        Description: "Super Nintendo Entertainment System",
        FileTypes:   []string{".smc", ".sfc", ".fig"},
    },
    "genesis": {
        Name:        "genesis",
        Description: "Sega Genesis / Mega Drive",
        FileTypes:   []string{".gen", ".md", ".smd", ".bin"},
    },
    "gameboy": {
        Name:        "gameboy",
        Description: "Nintendo Game Boy",
        FileTypes:   []string{".gb", ".gbc", ".gba"},
    },
    "atari2600": {
        Name:        "atari2600",
        Description: "Atari 2600",
        FileTypes:   []string{".a26", ".bin"},
    },
    "c64": {
        Name:        "c64",
        Description: "Commodore 64",
        FileTypes:   []string{".d64", ".t64", ".prg", ".crt"},
    },
}
```

<a name="GetPlatformNames"></a>
## func GetPlatformNames

```go
func GetPlatformNames() []string
```

GetPlatformNames returns a sorted list of all platform names.

<a name="CopyOptions"></a>
## type CopyOptions



```go
type CopyOptions struct {
    Limit int
    Unzip bool
}
```

<a name="File"></a>
## type File



```go
type File struct {
    FileName  string
    Title     string
    Date      string
    Publisher string
    Platform  string
    Format    string
    Flags     []string
    Region    string
    Language  string
}
```

<a name="ParseFileName"></a>
### func ParseFileName

```go
func ParseFileName(fileName string) (*File, error)
```

ParseFileName parses a file name according to the TOSEC naming convention

<a name="Folder"></a>
## type Folder



```go
type Folder struct {
    Path      string
    Platform  string
    FileTypes []string
}
```

<a name="Create"></a>
### func Create

```go
func Create(path, platformName string) *Folder
```

Create initializes a Folder with the given path and platform.

<a name="Folder.BuildTree"></a>
### func \(\*Folder\) BuildTree

```go
func (tosecFolder *Folder) BuildTree(_ CopyOptions) []tree.Entry
```



<a name="Folder.FormatTree"></a>
### func \(\*Folder\) FormatTree

```go
func (tosecFolder *Folder) FormatTree() <-chan string
```

FormatTree returns a channel of formatted text lines for the tree

<a name="Folder.GetFileTree"></a>
### func \(\*Folder\) GetFileTree

```go
func (tosecFolder *Folder) GetFileTree() (<-chan tree.Entry, <-chan error)
```

GetFileTree returns a channel of tree entries for the given path

<a name="Folder.GetFiles"></a>
### func \(\*Folder\) GetFiles

```go
func (tosecFolder *Folder) GetFiles() ([]File, error)
```

GetFiles returns a slice of File objects parsed from the file names in the folder Note: Returns successfully parsed files even if some files fail to parse. Parse errors are logged to stderr but don't stop processing.

<a name="Folder.GetStats"></a>
### func \(\*Folder\) GetStats

```go
func (tosecFolder *Folder) GetStats() (Stats, error)
```

GetStats returns statistics about the files in the given path

<a name="ParseError"></a>
## type ParseError



```go
type ParseError struct {
    FileName string
    Error    error
}
```

<a name="Platform"></a>
## type Platform



```go
type Platform struct {
    Name        string
    Description string
    FileTypes   []string
}
```

<a name="GetPlatform"></a>
### func GetPlatform

```go
func GetPlatform(name string) (Platform, bool)
```

GetPlatform retrieves a Platform by its name.

<a name="Stats"></a>
## type Stats



```go
type Stats struct {
    TotalFiles      int
    DirectoryCounts map[string]int
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
